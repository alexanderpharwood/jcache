function jCache(){"use strict";var e={cache:{},jobs:{}};return e.jobs.removeExpiredKeysLoop,e.cacheId="",Date.prototype.addDays=function(e){var r=new Date(this.valueOf());return r.setDate(r.getDate()+e),r},Date.prototype.addHours=function(e){var r=new Date(this.valueOf());return r.setHours(r.getHours()+e),r},Date.prototype.addMinutes=function(e){var r=new Date(this.valueOf());return r.setMinutes(r.getMinutes()+e),r},Date.prototype.addSeconds=function(e){var r=new Date(this.valueOf());return r.setSeconds(r.getSeconds()+e),r},e.init=function(r){if(void 0===r||null===r||""===r)console.error("jCache error: jCache.init requires exactly one perameter: an id under which your cached items will be stored.");else{if("undefined"==typeof Storage)throw"jCache does not support your browser, sorry!";e.cacheId=r,e.validateCache(),e.jobs.removeExpiredKeys()}},e.validateCache=function(){e.cache=localStorage.getItem("jCache");var r={};try{e.cache=JSON.parse(e.cache)}catch(c){return localStorage.setItem("jCache",JSON.stringify(r)),void e.validateCache()}null!==e.cache?void 0===e.cache[e.cacheId]&&(e.cache[e.cacheId]={},localStorage.setItem("jCache",JSON.stringify(e.cache)),e.validateCache()):(localStorage.setItem("jCache",JSON.stringify(r)),e.validateCache())},e.jobs.removeExpiredKeys=function(){e.validateCache(),e.jobs.removeExpiredKeysLoop=setInterval(function(){e.validateCache();var r=new Date;for(var c in e.cache[e.cacheId])if(r>=new Date(Date.parse(e.cache[e.cacheId][c].expiresAt)))return delete e.cache[e.cacheId][c],localStorage.setItem("jCache",JSON.stringify(e.cache)),e.validateCache(),!0},5e3)},e.has=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?void console.error("jCache error: Invalid key given: "+r):void 0!==e.cache[e.cacheId][r]},e.set=function(r){if(e.validateCache(),r.constructor!==Array)return console.error("jCache error: set method expects an object or a list of objects: [[key, value, expiresAt]]"),!1;for(var c in r){var o=r[c];console.log(o[0]);var a=o[0],t=o[1],n=o[2],i=!1;if(void 0!==a&&null!==a&&""!==a&&"string"==typeof a)if(void 0===e.cache[e.cacheId][a]&&(e.cache[e.cacheId][a]={},e.cache[e.cacheId][a].createdAt=new Date),"function"==typeof t&&(t=t.toString(),console.error("jCache error: jCache does not support the storing of fuctions in cache as typeof function; they are instead converted to a string. You may convert them back yourself with eval(), but it is not reccomended (eval is evil)")),void 0!==t){if(e.cache[e.cacheId][a].value=t,e.cache[e.cacheId][a].modifiedAt=new Date,void 0!==n&&null!==n&&""!==n)if("[object Date]"===Object.prototype.toString.call(n))e.cache[e.cacheId][a].expiresAt=n;else if("number"==typeof parseInt(n.substring(0,n.length-1))){var h=new Date;"d"===n[n.length-1]?(h=h.addDays(parseInt(n.substring(0,n.length-1))),e.cache[e.cacheId][a].expiresAt=h):"h"===n[n.length-1]?(h=h.addHours(parseInt(n.substring(0,n.length-1))),e.cache[e.cacheId][a].expiresAt=h):"m"===n[n.length-1]?(h=h.addMinutes(parseInt(n.substring(0,n.length-1))),e.cache[e.cacheId][a].expiresAt=h):"s"===n[n.length-1]&&(h=h.addSeconds(parseInt(n.substring(0,n.length-1))),e.cache[e.cacheId][a].expiresAt=h)}else e.cache[e.cacheId][a].expiresAt=null,console.error("jCache error: Invalid date format supplied; expiresAt has been set to null");else e.cache[e.cacheId][a].expiresAt=null;localStorage.setItem("jCache",JSON.stringify(e.cache)),i=!0}else console.error("jCache error: Skipping, value not set for key: "+a);else console.error("jCache error: Skipping, invalid key given at items["+c+"]")}return i},e.get=function(r){if(e.validateCache(),void 0!==r&&null!==r&&""!==r&&"string"==typeof r)return void 0===e.cache[e.cacheId][r]?void console.error("jCache error: "+r+" not found"):e.cache[e.cacheId][r];console.error("jCache error: Invalid key given: "+r)},e.getValue=function(r){if(e.validateCache(),void 0!==r&&null!==r&&""!==r&&"string"==typeof r)return void 0===e.cache[e.cacheId][r]?void console.error("jCache error: "+r+" not found"):e.cache[e.cacheId][r].value;console.error("jCache error: Invalid key given: "+r)},e.getCreatedAt=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?void console.error("jCache error: Invalid key given: "+r):void 0===e.cache[e.cacheId][r]?void console.error("jCache error: "+r+" not found"):e.cache[e.cacheId][r].createdAt},e.getModifiedAt=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?void console.error("jCache error: Invalid key given: "+r):void 0===e.cache[e.cacheId][r]?void console.error("jCache error: "+r+" not found"):e.cache[e.cacheId][r].modifiedAt},e.getExpiresAt=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?void console.error("jCache error: Invalid key given: "+r):void 0===e.cache[e.cacheId][r]?void console.error("jCache error: "+r+" not found"):e.cache[e.cacheId][r].expiresAt},e.compare=function(r,c){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):"object"==typeof e.cache[e.cacheId][r].value?JSON.stringify(e.cache[e.cacheId][r].value)===JSON.stringify(c):e.cache[e.cacheId][r].value===c},e.compareValue=function(r,c){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):e.cache[e.cacheId][r].value==c},e.compareType=function(r,c){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):typeof e.cache[e.cacheId][r].value==typeof c},e.remove=function(r){if(e.validateCache(),console.log(r.constructor),r.constructor===Array){var c=!1;for(var o in r){var a=r[o];if(void 0===a||null===a||""===a||"string"!=typeof a)console.error("jCache error: Invalid key given: "+a);else{if(void 0===e.cache[e.cacheId][a])return console.error("jCache error: "+a+" not found"),!1;delete e.cache[e.cacheId][a],localStorage.setItem("jCache",JSON.stringify(e.cache)),c=!0}}return c}return void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):(delete e.cache[e.cacheId][r],localStorage.setItem("jCache",JSON.stringify(e.cache)),!0)},e.removeAll=function(){return e.validateCache(),e.cache[e.cacheId]={},localStorage.setItem("jCache",JSON.stringify(e.cache)),!0},e.reset=function(){return e.validateCache(),localStorage.removeItem("jCache"),clearInterval(e.jobs.removeExpiredKeysLoop),e.init(e.cacheId),!0},e.destroy=function(){return e.validateCache(),localStorage.removeItem("jCache"),clearInterval(e.jobs.removeExpiredKeysLoop),e={},!0},e.isString=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):"string"==typeof e.cache[e.cacheId][r].value},e.isInt=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):"number"==typeof e.cache[e.cacheId][r].value},e.isInt=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):"object"==typeof e.cache[e.cacheId][r].value},e.isArray=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):e.cache[e.cacheId][r].value.constructor===Array},e.isObject=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?(console.error("jCache error: Invalid key given: "+r),!1):void 0===e.cache[e.cacheId][r]?(console.error("jCache error: "+r+" not found"),!1):"object"==typeof e.cache[e.cacheId][r].value&&e.cache[e.cacheId][r].value.constructor!==Array},e.getType=function(r){return e.validateCache(),void 0===r||null===r||""===r||"string"!=typeof r?void console.error("jCache error: Invalid key given: "+r):void 0===e.cache[e.cacheId][r]?void console.error("jCache error: "+r+" not found"):typeof e.cache[e.cacheId][r].value},e.keys=function(){return e.validateCache(),Object.keys(e.cache[e.cacheId])},e}